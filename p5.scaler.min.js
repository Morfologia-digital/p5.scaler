p5.prototype.scaler=void 0,p5.prototype.createAdaptiveCanvas=function(i,t,e){createCanvas(i,t),scaler=new Scaler(i,t,void 0===e)},p5.prototype.updateAdaptiveCanvas=function(){void 0!==scaler&&scale(scaler.scale())},window.addEventListener("resize",function(i){scaler.scaleCanvas()},!0),p5.prototype.registerMethod("pre",p5.prototype.updateAdaptiveCanvas);class Scaler{#width;#height;#ratio;#scale;#fitScreen;constructor(i,t,e){this.#width=i,this.#height=t,this.#ratio=this.#width/this.#height,this.#fitScreen=e,this.#fitScreen&&this.scaleCanvas()}scaleCanvas(){if(this.#fitScreen){let i,t;var e=Math.abs(this.#width-window.innerWidth),n=Math.abs(this.#height-window.innerHeight);Math.min(e,n)==e?(i=window.innerWidth,(t=window.innerWidth/this.#ratio)>window.innerHeight&&(t=window.innerHeight,i=window.innerHeight*this.#ratio)):(t=window.innerHeight,(i=window.innerHeight*this.#ratio)>window.innerWidth&&(i=window.innerWidth,t=window.innerWidth/this.#ratio)),this.#scale=i/this.#width,resizeCanvas(i,t)}}width(){return this.#width}height(){return this.#height}scale(){return this.#scale}}
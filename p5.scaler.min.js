function createAdaptiveGraphics(t,s,e){t=new AdaptiveBuffer(createGraphics(t,s),e);return scaler.t(t),scaler.i(),t}function addAdaptiveGraphics(t,s){t=new AdaptiveBuffer(t,s);scaler.t(t),scaler.i()}p5.prototype.scaler=void 0,p5.prototype.createAdaptiveCanvas=function(t,s,e){var i=createCanvas(t,s);return scaler=new Scaler(t,s,void 0===e||e),i},p5.prototype.h=function(){void 0!==scaler&&scale(scaler.scale())},window.addEventListener("resize",function(t){scaler.o()},!0),p5.prototype.registerMethod("pre",p5.prototype.h);class AdaptiveBuffer{#u;#l;constructor(t,s){this.#u=t,this.#l=s}reRender(){this.#l(this.#u)}graphics(){return this.#u}}class Scaler{#p;#v;#m;#F;#C;#g;#A;constructor(t,s,e){this.#p=t,this.#v=s,this.#m=this.#p/this.#v,this.#C=e,this.#A=[],this.#C&&this.o()}o(){if(this.#C){let t,s;var e,i,r,a;s=void 0!==this.#g?(a=getComputedStyle(this.#g),e=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),i=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),r=parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),a=parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),t=this.#g.offsetWidth-e-r,this.#g.offsetHeight-i-a):(t=window.innerWidth,window.innerHeight),this.S(t,s)}}scaleCanvasTo(t){this.S(this.#p*t,this.#v*t)}S(t,s){let e,i;var r=Math.abs(this.#p-t),a=Math.abs(this.#v-s);Math.min(r,a)==r?(e=t,(i=t/this.#m)>s&&(i=s,e=s*this.#m)):(i=window.innerHeight,(e=window.innerHeight*this.#m)>t&&(e=t,i=t/this.#m)),this.#F=e/this.#p,resizeCanvas(e,i),this.i()}width(){return this.#p}height(){return this.#v}scale(){return this.#F}i(){for(let t=0;t<this.#A.length;t++)this.#A[t].graphics().pixelDensity(Math.ceil(this.#F)),this.#A[t].reRender()}t(t){this.#A.push(t)}setCanvasContainer(t){this.#g=t,this.o()}mouseX(){return mouseX/this.#F}mouseY(){return mouseY/this.#F}pmouseX(){return pmouseX/this.#F}pmouseY(){return pmouseY/this.#F}}